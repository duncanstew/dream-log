{% extends "layout.html" %}
{% block content %}
    <section class="text-gray-700 body-font overflow-hidden rounded-lg my-8 bg-indigo-100 shadow-lg">
        <div class="container px-5 py-12 mx-auto">
            <div class="-my-8">
                <div class="py-8 flex flex-wrap md:flex-no-wrap">
                    <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col justify-between">
                        <div class="flex flex-col">
                            <span class="tracking-widest font-medium title-font text-gray-900">CATEGORY</span>
                            <span class="mt-1 text-gray-500 text-md"> {{ post.date_posted.strftime('%m-%d-%Y') }} </span>
                        </div>
                        <div class="flex flex-col">
                            <span class="mt-1 text-gray-500 text-md"> Views: {{ post.views }} </span>
                            <span class="mt-1 text-gray-500 text-md"> Clarity: {{ post.clarity }} </span>
                        </div>                     
                    </div>
                    <div class="md:flex-grow">
                        <div class="flex flex-col">
                            <div class="flex flex-row justify-between">
                                <div class="">
                                    <h2 class="text-2xl font-medium text-gray-900 title-font mb-2"> {{ post.title }} </h2>
                                </div>
                                <div class="flex flex-row text-md mr-4 text-blue-700 font-semibold">
                                    {% if post.author == current_user %}
                                    <div class="flex flex-row">
                                        <form class="mx-2" method="GET" action="{{ url_for('posts.update_post', post_id=post.id) }}">
                                            <button class="bg-red-500 hover:bg-red-400 text-white font-bold py-1 px-2 border-b-4 border-red-700 hover:border-red-500 rounded"> Update </button>
                                        </form>
                                        <form class="mx-2" method="POST" action="{{ url_for('posts.delete_post', post_id=post.id) }}">
                                            <button class="bg-red-500 hover:bg-red-400 text-white font-bold py-1 px-2 border-b-4 border-red-700 hover:border-red-500 rounded"> Delete </button>
                                        </form>
                                        <!-- Add modal here, for confirmation of delete-->
                                    </div>
                                    {% endif%}
                                    <a href="#" > {{ post.author.username }}</a>
                                </div>
                            </div>
                            <div class="">
                                <p class="leading-relaxed"> {{post.content }} </p>
                            </div>                         
                        </div>
                        <div class="flex float-right">
                            <a class="text-indigo-500 inline-flex items-center mt-4 mr-4">Read More
                                <svg class="h-6 w-6 fill-current bg-blue-600" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M20 10a10 10 0 11-20 0 10 10 0 0120 0zm-2 0a8 8 0 10-16 0 8 8 0 0016 0zm-8 2H5V8h5V5l5 5-5 5v-3z"/></svg>
                            </a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>
{% endblock content %}
